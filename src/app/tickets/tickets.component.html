<div class="big-container">

    <h1>2023 liput nyt myynnissä</h1>

    <form #form1="ngForm" (ngSubmit)="onSubmit(form1); form1.resetForm()">

        <div class="tickets">

            <!--peruslippu-->
            <div class="basic">
                <h2>Peruslippu</h2>
                <mat-grid-list cols="4" rowHeight="100px">
                    <mat-grid-tile>
                        <div class="minus">
                            <button type="button" mat-fab color="accent" (click)="addValue('-')">-</button>
                        </div>
                        <p>{{buyer.result}}</p>
                        <div class="plus">
                            <button type="button" mat-fab color="accent" (click)="addValue('+')">+</button>
                        </div>
                    </mat-grid-tile>
                </mat-grid-list>
            </div>

            <!--student lippu-->
            <div class="student">
                <h2>Opiskelijalippu</h2>
                <mat-grid-list cols="4" rowHeight="100px">
                    <mat-grid-tile>
                        <div class="minus">
                            <button type="button" mat-fab color="accent" (click)="addValueStudent('-')">-</button>
                        </div>
                        <p>{{buyer.studentresult}}</p>
                        <div class="plus">
                            <button type="button" mat-fab color="accent" (click)="addValueStudent('+')">+</button>
                        </div>
                    </mat-grid-tile>
                </mat-grid-list>
            </div>

            <!--senior lippu-->
            <div class="senior">
                <h2>Seniorilippu</h2>
                <mat-grid-list cols="4" rowHeight="100px">
                    <mat-grid-tile>
                        <div class="minus">
                            <button type="button" mat-fab color="accent" (click)="addValueSenior('-')">-</button>
                        </div>
                        <p>{{buyer.seniorresult}}</p>
                        <div class="plus">
                            <!--type: button, jotta ei laheta form dataa-->
                            <button type="button" mat-fab color="accent" (click)="addValueSenior('+')">+</button>
                        </div>
                    </mat-grid-tile>
                </mat-grid-list>
            </div>

            <!--checkbox mtk:n jasen-->
            <div class="checkbox">
                <mat-checkbox class="example-margin" (change)="onChange($event)">MTK:n jäsen</mat-checkbox>
            </div>

        </div>

        <div class="buyer">

            <!--lopullinen summa ostoille-->
            <mat-form-field appearance="fill">
                <input matInput type="number" placeholder="0" class="example-right-align" name="finalPrice"
                    [(ngModel)]="buyer.finalPrice" #finalPrice="ngModel">
                <!--sidonta ei jossain vaiheessa toiminut ilman ngModelOptions [ngModelOptions]="{standalone: true}" joka nyt poistettu input rivilta-->
            </mat-form-field>

            <h2>Täytä tilaajan tiedot</h2>

            <!--etunimi, regex kirjaimille-->
            <mat-form-field>
                <input matInput placeholder="Etunimi" name="firstName" [(ngModel)]="buyer.firstName" #fname="ngModel"
                    required minlength="2" pattern="^[a-zA-Z]*$">
                <mat-error *ngIf="fname.hasError('required')">Enter your first name</mat-error>
                <mat-error *ngIf="fname.hasError('minlength')">Minimum 2 characters required</mat-error>
                <mat-error *ngIf="fname.hasError('pattern')">Must be valid first name</mat-error>
            </mat-form-field>

            <!--sukunimi-->
            <mat-form-field>
                <input matInput placeholder="Sukunimi" name="lastName" [(ngModel)]="buyer.lastName" #lname="ngModel"
                    required minlength="2" pattern="^[a-zA-Z]*$">
                <mat-error *ngIf="lname.hasError('required')">Enter your last name</mat-error>
                <mat-error *ngIf="lname.hasError('minlength')">Minimum 2 characters required</mat-error>
                <mat-error *ngIf="lname.hasError('pattern')">Must be valid last name</mat-error>
            </mat-form-field>

            <h2>Liput lähetetään sähköpostiosoitteeseen</h2>

            <!--email, regex sahkopostille-->
            <mat-form-field>
                <input matInput placeholder="Sähköposti" name="email" [(ngModel)]="buyer.email" #email="ngModel"
                    required minlength="5" pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$">
                <mat-error *ngIf="email.hasError('required')">Enter your email</mat-error>
                <mat-error *ngIf="email.hasError('minlength')">Minimum 5 characters required</mat-error>
                <mat-error *ngIf="email.hasError('pattern')">Must be valid email</mat-error>
            </mat-form-field>

            <button type="submit" mat-raised-button color="accent" [disabled]="form1.invalid">OSTA LIPUT</button>

        </div>

    </form>

</div>